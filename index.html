<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Album Pinterest Style</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f5f5f5;
  padding:20px;
}

/* Formulaire */
form{
  background:white;
  padding:15px;
  border-radius:12px;
  max-width:400px;
  margin-bottom:30px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
}

input, textarea{
  width:100%;
  margin-bottom:10px;
  padding:8px;
  border-radius:8px;
  border:1px solid #ccc;
}

/* Choix couleur */
.colors{
  display:flex;
  gap:10px;
  margin:10px 0;
}

.color{
  width:25px;
  height:25px;
  border-radius:50%;
  cursor:pointer;
  border:2px solid white;
  box-shadow:0 0 5px rgba(0,0,0,0.2);
}

/* Grille style Pinterest */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
}

/* Carte album */
.album{
  border-radius:20px;
  overflow:hidden;
  padding:15px;
  display:flex;
  flex-direction:column;
  min-height:340px;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
}

/* Image en haut */
.cover{
  width:100%;
  aspect-ratio:1/1;
  border-radius:15px;
  object-fit:cover;
  margin-bottom:10px;
}

/* Zone texte */
.info{
  flex:1;
}

/* Ligne titre + date */
.title-row{
  display:flex;
  align-items:flex-end;
  gap:8px;
}

.album-title{
  font-size:20px;
  font-weight:bold;
}

.date{
  font-size:12px;
  opacity:0.7;
}

.artist{
  font-size:14px;
  margin-bottom:5px;
}

.tracks{
  font-size:13px;
  opacity:0.8;
}
</style>
</head>

<body>

<form id="albumForm">
  <input type="text" id="title" placeholder="Titre de l'album" required>
  <input type="text" id="artist" placeholder="Chanteur / Groupe" required>
  <input type="date" id="date" required>
  <input type="file" id="image" accept="image/png" required>
  <textarea id="tracks" placeholder="Liste des chansons (facultatif)"></textarea>

  <p>Choisir une couleur :</p>
  <div class="colors">
    <div class="color" style="background:#ffd6e7" data-color="#ffd6e7"></div>
    <div class="color" style="background:#d6e4ff" data-color="#d6e4ff"></div>
    <div class="color" style="background:#e7ffd6" data-color="#e7ffd6"></div>
    <div class="color" style="background:#fff0d6" data-color="#fff0d6"></div>
    <div class="color" style="background:#f0d6ff" data-color="#f0d6ff"></div>
  </div>

  <button type="submit">Ajouter l'album</button>
</form>

<div class="grid" id="albums"></div>

<script>
let selectedColor = "#ffd6e7";

document.querySelectorAll(".color").forEach(c=>{
  c.onclick=()=> selectedColor = c.dataset.color;
});

document.getElementById("albumForm").addEventListener("submit", function(e){
  e.preventDefault();

  const title = document.getElementById("title").value;
  const artist = document.getElementById("artist").value;
  const date = document.getElementById("date").value;
  const tracks = document.getElementById("tracks").value;
  const imageFile = document.getElementById("image").files[0];

  if(!imageFile || imageFile.type !== "image/png"){
    alert("Image PNG obligatoire !");
    return;
  }

  const reader = new FileReader();
  reader.onload = function(event){

    const album = document.createElement("div");
    album.className = "album";
    album.style.background = selectedColor;

    album.innerHTML = `
      <img src="${event.target.result}" class="cover">

      <div class="info">
        <div class="title-row">
          <div class="album-title">${title}</div>
          <div class="date">${date}</div>
        </div>

        <div class="artist">${artist}</div>

        ${tracks ? `<div class="tracks">${tracks.replace(/\n/g,"<br>")}</div>` : ""}
      </div>
    `;

    document.getElementById("albums").appendChild(album);
  };

  reader.readAsDataURL(imageFile);
});
</script>

</body>
</html>
